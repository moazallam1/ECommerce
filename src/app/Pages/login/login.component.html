<section
  class="flex justify-center items-center bg-gradient-to-b from-white via-gray-50 to-green-50 pb-10 px-4"
>
  <div
    class="w-full md:max-w-[75%] lg:max-w-[90%] bg-white border border-green-100 rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 p-8"
  >
    <h2
      class="text-3xl font-bold text-gray-700 mb-8 text-center relative inline-block pb-2 after:content-[''] after:absolute after:w-full after:h-[3px] after:bg-green-500 after:bottom-0 after:left-1/2 after:-translate-x-1/2"
    >
      {{ 'LOGIN.TITLE' | translate }}
    </h2>

    <form [formGroup]="loginForm" (ngSubmit)="submitForm()" class="space-y-5">
      <!-- ================= EMAIL ================= -->
      <div>
        <label for="email" class="block text-gray-700 font-medium mb-1">
          {{ 'LOGIN.EMAIL_LABEL' | translate }}
        </label>
        <input
          id="email"
          type="email"
          formControlName="email"
          [placeholder]="'LOGIN.EMAIL_PLACEHOLDER' | translate"
          class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"
        />

        @if (loginForm.get('email')?.touched && loginForm.get('email')?.invalid) {
          <div
            class="flex p-4 mt-3 text-sm text-red-800 rounded-lg bg-red-50"
            role="alert"
          >
            <ul class="list-disc list-inside">
              @if (loginForm.get('email')?.errors?.['required']) {
                <li>{{ 'LOGIN.EMAIL_REQUIRED' | translate }}</li>
              }
              @if (loginForm.get('email')?.errors?.['email']) {
                <li>{{ 'LOGIN.EMAIL_INVALID' | translate }}</li>
              }
            </ul>
          </div>
        }
      </div>

      <!-- ================= PASSWORD ================= -->
      <div class="relative flex flex-col">
        <label for="password" class="block text-gray-700 font-medium mb-1">
          {{ 'LOGIN.PASSWORD_LABEL' | translate }}
        </label>

        <div class="relative flex items-center">
          <input
            id="password"
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            [placeholder]="'LOGIN.PASSWORD_PLACEHOLDER' | translate"
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition pr-12"
          />

          <!-- ðŸ‘ï¸ Ø£ÙŠÙ‚ÙˆÙ†Ø© show/hide -->
          <button
            type="button"
            (click)="togglePassword()"
            class="absolute right-4 flex items-center justify-center h-full text-gray-500 hover:text-green-600 transition"
          >
            <i [ngClass]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
          </button>
        </div>

        @if (loginForm.get('password')?.touched && loginForm.get('password')?.invalid) {
          <div
            class="flex p-4 mt-3 text-sm text-red-800 rounded-lg bg-red-50"
            role="alert"
          >
            <ul class="list-disc list-inside">
              @if (loginForm.get('password')?.errors?.['required']) {
                <li>{{ 'LOGIN.PASSWORD_REQUIRED' | translate }}</li>
              }
              @if (loginForm.get('password')?.errors?.['pattern']) {
                <li>{{ 'LOGIN.PASSWORD_PATTERN' | translate }}</li>
              }
            </ul>
          </div>
        }
      </div>

      <!-- ================= SUBMIT BUTTON ================= -->
      <button
        type="submit"
        class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold py-3 rounded-xl shadow-md hover:shadow-xl transition-all duration-500 disabled:opacity-50"
        [disabled]="loginForm.invalid || isLoading"
      >
        <i class="fas fa-user-plus mr-2"></i>
        {{ 'LOGIN.BUTTON' | translate }}

        @if (isLoading) {
          <span class="ms-2"><i class="fas fa-spin fa-spinner"></i></span>
        }
      </button>

      @if (errorMsg) {
        <div
          class="flex p-4 mt-3 text-sm text-red-800 rounded-lg bg-red-50"
          role="alert"
        >
          <ul class="list-disc list-inside">
            <li>{{ errorMsg }}</li>
          </ul>
        </div>
      }

      @if (isSuccess) {
        <div
          class="flex p-4 mt-3 text-sm text-green-800 rounded-lg bg-green-50"
          role="alert"
        >
          <ul class="list-disc list-inside">
            <li>{{ isSuccess }}</li>
          </ul>
        </div>
      }
    </form>

    <p class="text-center text-gray-500 mt-6">
      {{ 'LOGIN.NO_ACCOUNT' | translate }}
      <a
        routerLink="/register"
        class="text-green-600 font-medium hover:underline"
      >
        {{ 'LOGIN.SIGNUP_LINK' | translate }}
      </a>
    </p>

    <p class="text-center text-gray-500">
      <a
        routerLink="/forget"
        class="text-green-600 font-medium hover:underline"
      >
        {{ 'LOGIN.FORGOT_PASSWORD' | translate }}
      </a>
    </p>
  </div>
</section>
