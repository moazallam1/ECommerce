<nav
  class="fixed top-0 left-0 w-full z-50 bg-gray-100 border-gray-200 dark:bg-gray-900 shadow"
>
  <div
    class="max-w-screen-2xl mx-auto px-4 py-3 flex flex-wrap items-center justify-between"
  >
    <!-- Logo -->
    <a
      routerLink="/home"
      class="flex items-center space-x-3 rtl:space-x-reverse"
    >
      <img src="/images/freshcart-logo.svg" alt="cart-logo" class="h-8" />
    </a>

    <!-- زر الريسبونسف من Flowbite -->
    <button
      data-collapse-toggle="navbar-default"
      type="button"
      class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
      aria-controls="navbar-default"
      aria-expanded="false"
    >
      <span class="sr-only">Open main menu</span>
      <svg
        class="w-5 h-5"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 17 14"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M1 1h15M1 7h15M1 13h15"
        />
      </svg>
    </button>

    

    <!-- Navbar Links -->
    <div
      class="hidden w-full md:flex md:w-auto flex-col md:flex-row md:items-center md:space-x-6 rtl:space-x-reverse"
      id="navbar-default"
    >
      @if (isLogin()) {
      <ul
        class="flex flex-col md:flex-row md:space-x-6 rtl:space-x-reverse font-medium mt-4 md:mt-0"
      >
        <li>
          <a
            routerLink="/home"
            routerLinkActive="bg-green-600 text-white"
            class="block py-2 px-3 rounded-md text-gray-700 fw-bold"
          >
            {{ "NAVBAR.HOME" | translate }}
          </a>
        </li>
        <li>
          <a
            routerLink="/products"
            routerLinkActive="bg-green-600 text-white"
            class="block py-2 px-3 rounded-md text-gray-700 fw-bold"
          >
            {{ "NAVBAR.PRODUCTS" | translate }}
          </a>
        </li>
        <li>
          <a
            routerLink="/categories"
            routerLinkActive="bg-green-600 text-white"
            class="block py-2 px-3 rounded-md text-gray-700 fw-bold"
          >
            {{ "NAVBAR.CATEGORIES" | translate }}
          </a>
        </li>
        <li>
          <a
            routerLink="/brands"
            routerLinkActive="bg-green-600 text-white"
            class="block py-2 px-3 rounded-md text-gray-700 fw-bold"
          >
            {{ "NAVBAR.BRANDS" | translate }}
          </a>
        </li>
      </ul>
      }

      <!-- اليمين (الترجمة + الدخول + الكارت + تسجيل الخروج) -->
      <div
        class="flex items-center space-x-3 rtl:space-x-reverse mt-4 md:mt-0"
      >
        <!-- تغيير اللغة -->
        <button
          (click)="switchLanguage(currentLang === 'en' ? 'ar' : 'en')"
          class="flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none transition"
          title="Switch Language"
        >
          @if (currentLang === 'en') {
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6 text-gray-800 dark:text-gray-200"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="1.8"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 3a9 9 0 100 18 9 9 0 000-18zm0 0v18m0-18C8 5 6 9 6 12s2 7 6 9m0-18c4 2 6 6 6 9s-2 7-6 9M3 12h18"
            />
          </svg>
          } @else {
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6 text-green-600 dark:text-green-400"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="1.8"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 3a9 9 0 100 18 9 9 0 000-18zm0 0v18m0-18C8 5 6 9 6 12s2 7 6 9m0-18c4 2 6 6 6 9s-2 7-6 9M3 12h18"
            />
          </svg>
          }
        </button>

        <!-- Login / Register -->
        @if (!isLogin()) {
        <a
          routerLink="/login"
          routerLinkActive="bg-green-600 text-white"
          class="block py-2 px-4 rounded-md text-gray-700"
          >{{ "NAVBAR.LOGIN" | translate }}</a
        >
        <a
          routerLink="/register"
          routerLinkActive="bg-green-600 text-white"
          class="block py-2 px-4 rounded-md text-gray-700"
          >{{ "NAVBAR.REGISTER" | translate }}</a
        >
        } @else {
        <!-- Cart (يظهر فقط داخل المنيو والـ md+) -->
        <a
          routerLink="/cart"
          routerLinkActive="bg-green-600 text-white"
          class="relative block py-2 px-3 md:px-4 md:py-2 rounded-md text-gray-700 fw-bold transition"
        >
          <i class="fas fa-shopping-cart text-lg fa-2xl"></i>
          <span
            class="absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"
          >
            {{ cartNumber() }}
          </span>
        </a>

        <!-- Logout -->
        <button
          (click)="authService.logOut()"
          title="Sign Out"
          class="p-3 rounded-full bg-gray-200 hover:bg-red-800 text-gray-700 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-red-200 flex items-center justify-center"
        >
          <i class="fas fa-right-from-bracket text-lg text-red-500"></i>
        </button>
        }
      </div>
    </div>
  </div>
</nav>

<div class="pt-[70px]"></div>



